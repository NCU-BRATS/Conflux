
= sync partial: 'issue_header', resource: @issue

= sync partial: 'comment_row', collection: @issue.comments.asc
= sync_new partial: 'comment_row', resource: Comment.new, scope: Comment.by_commentable( @issue )

.ui.section.divider
.ui.segment.tertiary
  .ui.top.attached.tabular.menu
    a.active.item data-tab='origin'
      = t('action.write')
    a.item data-tab='preview' data-preview='comment_content'
      = t('action.preview')
  .ui.bottom.attached.active.tab.segment data-tab='origin'
    = simple_form_for([@project, @issue, @issue.comments.build], remote: true) do |f|
      = f.error_notification
      = f.input :content, input_html: { id: 'comment_content_post_field' }
      = f.button :submit, class: 'right floated icon inverted'
  .ui.bottom.attached.tab.segment#comment_content_preview_field data-tab='preview'
    = '...'

- content_for :javascripts
  coffee:
    $('.menu .item').tab()